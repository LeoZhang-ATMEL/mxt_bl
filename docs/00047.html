<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>bootloader_host_nvm</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00047.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00002.html" target="topic">Bootloader Library Help</a> &gt; <a href="00004.html" target="topic">I2C Bootloader</a> &gt; <a href="00006.html" target="topic">Applications Help</a> &gt; I2C Fail Safe Bootloader &gt; <a href="00047.html" target="topic">bootloader_host_nvm</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Bootloader Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00002.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00046.html" target="topic">Previous</a> | <a href="00006.html" target="topic">Up</a> | <a href="00048.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: I2C Fail Safe Bootloader bootloader_host_nvm Topic Title: bootloader_host_nvm)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
bootloader_host_nvm</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
The user application binary must be converted to a header file containing the application image in HEX format in a C style array. A <a href="00040.html" target="topic">btl_bin_to_hex_gen.py</a> utility is provided to do this conversion. </p><p class="Element10" style="text-align: center;">
<img src="fail_safe_bootloader_host_nvm_app.png" border="0" alt="" title=""></p><p class="Element10">
To program the bootloader to the inactive flash bank, the user application binary may be combined with the bootloader using the <a href="00040.html" target="topic">btl_app_merge_bin.py</a> utility. The combined binary file must be converted to a header file using the <a href="00040.html" target="topic">btl_bin_to_hex_gen.py</a> utility. </p><p class="Element10" style="text-align: center;">
<img src="fail_safe_combined_bootloader_app_diagram.png" border="0" alt="" title=""></p>
<ul class="Element630">
<li class="Element600">Add the generated HEX image header file (of the application; or bootloader and application combined) to the bootloader host application project. Rebuild and program the host bootloader application. This results in the application image being copied in the host MCU's flash (NVM).</li>
<li class="Element600">Press the user switch on the target board to trigger bootloader.</li>
<li class="Element600">Press the user switch on the host board to start the programming operation. The host bootloader application sends the HEX image stored in it's internal flash (NVM) to the target board over the I2C bus and then swaps the flash banks.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
</div>
</div>
<a name="546F70696373"></a><div class="Element14">
Topics</div>
<div class="Element11">
<div class="Element10">
<div class="Element212">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element200" valign="top" width="35%">
<div class="Element201">
Name&nbsp;</div></td><td class="Element204" valign="top" width="65%">
<div class="Element205">
Description&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="00048.html" target="topic">Building The Application</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
This section provides information on how to build an application using the MPLAB X IDE.&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="00050.html" target="topic">MPLAB Harmony Configuration</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
This section provides information on the MHC configurations.&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="00049.html" target="topic">Hardware Setup</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
This section describes how to configure the supported hardware.&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="00051.html" target="topic">Running The Application</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
This section provides information on how to run an application using the MPLAB X IDE.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00002.html" target="topic">Bootloader Library Help</a> &gt; <a href="00004.html" target="topic">I2C Bootloader</a> &gt; <a href="00006.html" target="topic">Applications Help</a> &gt; I2C Fail Safe Bootloader &gt; <a href="00047.html" target="topic">bootloader_host_nvm</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony Bootloader Help</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00002.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00046.html" target="topic">Previous</a> | <a href="00006.html" target="topic">Up</a> | <a href="00048.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: I2C Fail Safe Bootloader bootloader_host_nvm Topic Title: bootloader_host_nvm)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>